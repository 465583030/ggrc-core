{{!
  Copyright (C) 2017 Google Inc.
  Licensed under http://www.apache.org/licenses/LICENSE-2.0 <see LICENSE file>
}}

<object-selection items="items" selected-items="selected" refresh-selection="refreshItems" all-items="allItems"
                  all-selected="allSelected">
  {{#if items.length}}
    <div class="objects-found">
      <label>{{paging.total}} {{#objectsPlural}}Objects{{/objectsPlural}} {{^objectsPlural}}Object{{/objectsPlural}} found</label>
    </div>
    <div class="list-header">
      {{^disableColumnsConfiguration}}
        <mapper-results-columns-configuration
          model-type="getDisplayModel.shortName"
          available-columns="columns.available"
          {(selected-columns)}="columns.selected">
        </mapper-results-columns-configuration>
      {{/disableColumnsConfiguration}}
      <mapper-results-items-header
        class="{{#useSnapshots}}is-snapshot{{/useSnapshots}} {{#searchOnly}}search-only{{/searchOnly}}"
        model-type="type"
        columns="columns.selected"
        {(sort-key)}="sort.key"
        {(sort-direction)}="sort.direction">
      </mapper-results-items-header>
      {{^searchOnly}}
        <div class="list-selection-switcher">
          Select:
          <button can-click="deselectAll" class="btn btn-link" {{#isLoading}}disabled="disabled"{{/isLoading}}>None</button>
          |
          <button can-click="selectAll" class="btn btn-link" {{#isLoading}}disabled="disabled"{{/isLoading}}>All</button>
        </div>
      {{/searchOnly}}
    </div>
    <div class="list-body {{#isLoading}}loading{{/isLoading}}">
      <object-list items="items" is-loading="isLoading" spinner-css="grid-spinner">
        <mapper-results-item
          item-data="data"
          search-only="searchOnly"
          selected-columns="columns.selected">
        </mapper-results-item>
      </object-list>
    </div>
    <tree-pagination paging="paging" class="list-pagination"></tree-pagination>
  {{else}}
    {{^isLoading}}
      <div class="well well-small">No {{getDisplayModel.title_plural}} were found</div>
    {{/isLoading}}
  {{/if}}
</object-selection>
