{{!
  Copyright (C) 2017 Google Inc.
  Licensed under http://www.apache.org/licenses/LICENSE-2.0 <see LICENSE file>
}}

<csv-import>
  <div class="info">
    <div class="row-fluid wrap-row">
      <div class="span8 import">
        <p>
          Here you are able to import all GGRC objects.
          Please make sure you have your CSV file ready, or
          download one of the predefined templates.
        </p>
        {{#if_equals state "import"}}
          {{> /static/mustache/import_export/import_test_result.mustache}}
        {{/if_equals}}

        {{#if_equals state "success"}}
          {{> /static/mustache/import_export/complete.mustache}}
        {{/if_equals}}

        <div class="csv-input">
          {{#states}}
            <a id="import_btn"
               href="javascript://"
               {{#isDisabled}}disabled{{/isDisabled}}
               class="btn btn-small state-{{state}} {{class}}"
               data-toggle="gdrive-picker"
               data-type="documents">
              {{{text}}}
            </a>
            {{^if_equals state "select"}}
              {{#showSpinner}}
                <span {{attach_spinner '{ "radius": 4, "length": 4, "width": 2, "zIndex": 0}' 'display:inline-block; top: -3px; left: 30px;' }}></span>
              {{/showSpinner}}
              {{^showSpinner}}
                <button class="btn btn-small btn-gray state-reset">Cancel</button>
              {{/showSpinner}}
            {{/if}}
          {{/states}}
        </div>

        {{> /static/mustache/import_export/faq.mustache}}
      </div>
      <div class="span4">
        <csv-template>
        {{> /static/mustache/import_export/create_template.mustache}}
        </csv-template>
      </div>
    </div>
    <div id="results-container"></div>
  </div>
</csv-import>
