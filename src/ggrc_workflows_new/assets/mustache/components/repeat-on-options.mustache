{{!
    Copyright (C) 2017 Google Inc.
    Licensed under http://www.apache.org/licenses/LICENSE-2.0 <see LICENSE file>
}}

<div class="ggrc-form-item">
    <div class="ggrc-form-item__row">
        <div class="ggrc-form-item__checkbox-item">
            <label class="input--inline" for="repeat-checkbox">
                <input type="checkbox" can-value="repeatEnabled" id="repeat-checkbox"/>
                Repeat Workflow
            </label>
        </div>
    </div>
</div>

<div class="ggrc-form-item">
    <div class="ggrc-form-item__multiple-row">
        <label class="ggrc-form-item__label {{#unless repeatEnabled}}disabled{{/unless}}"
               for="repeats-select">
            Repeats
        </label>
        <dropdown options-list="unitOptions"
                  name="state.result.unit"
                  id="repeats-select"
                  {is-disabled}="repeatDisabled">
        </dropdown>
    </div>

    <div class="ggrc-form-item__multiple-row">
        <label class="ggrc-form-item__label {{#unless repeatEnabled}}disabled{{/unless}}"
               for="repeat-every-select">
            Repeat Every
        </label>
        <dropdown {options-list}="repeatOptions"
                  name="state.result.repeatEvery"
                  id="repeat-every-select"
                  {is-disabled}="repeatDisabled">
        </dropdown>
    </div>
</div>

<div class="ggrc-form-item">
    <div class="ggrc-form-item__multiple-row">
        <label class="ggrc-form-item__label {{#unless repeatEnabled}}disabled{{/unless}}"
               for="ends-select">
            Ends
        </label>
        <dropdown options-list="endOptions"
                  name="state.result.ends"
                  id="ends-select"
                  {is-disabled}="repeatDisabled">
        </dropdown>
    </div>

    <div class="ggrc-form-item__multiple-row">
        <label class="form-label ggrc-form-item__label single-indent {{#unless shouldProvideOccurrences}}disabled{{else}}required-label{{/unless}}"
               for="occurrences-input">
            Occurrences
            {{#if shouldProvideOccurrences}}
                <i class="fa fa-asterisk"></i>
            {{/if}}
        </label>
        {{#if shouldProvideOccurrences}}
            <input class="input-block-level required" placeholder="Enter Number of Occurrences"
                   id="occurrences-input" name="occurrences" required min="1"
                   type="number" ($input)="checkOccurrences(%event, $element)" {($value)}="state.result.occurrences"
                   autofocus>
        {{else}}
            <input class="input-block-level required" placeholder="Enter Number of Occurrences"
                   id="occurrences-input" name="occurrences" readonly
                   type="number" {($value)}="state.result.occurrences" autofocus>
        {{/if}}
    </div>
</div>
