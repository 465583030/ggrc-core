{{!
    Copyright (C) 2018 Google Inc.
    Licensed under http://www.apache.org/licenses/LICENSE-2.0 <see LICENSE file>
}}
{{#each items}}
<div class="ggrc-form-item {{#isHidable .}}hidable{{/isHidable}}">
  <div class="ggrc-form-item__row {{#if validationState.hasGCAErrors}}field-failure{{/if}}">
    <div class="ggrc-form-item__field-header">
      <label for="form-field-{{customAttributeId}}" class="form-label required-label ggrc-form-item__label">
        <span class="ggrc-form-item__label-text">{{title}}</span>
        {{#if mandatory}}
          <i class="fa fa-asterisk"></i>
        {{/if}}
      </label>
      <div class="ggrc-form-item__controls">
        {{#isHidable .}}
          <a class="field-hide" tabindex="-1">hide</a>
        {{/isHidable}}
      </div>
    </div>
    <custom-attributes-field
      {type}="attributeType"
      {(value)}="value"
      {field-id}="customAttributeId"
      {placeholder}="placeholder"
      {options}="multiChoiceOptions"
      (value-changed)="updateGlobalAttribute(%event, %context)"
      class="form-field__content {{extraClass attributeType}}"
    ></custom-attributes-field>
    {{#if validationState.hasGCAErrors}}
      <div role="alert">{{errorMessage attributeType}}</div>
    {{/if}}
  </div>
</div>
{{/each}}
